##为什么学习node
1. 很火
2. 很强
3. 运行在chrome V8 引擎上的JavaScript的运行环境
4. 没有浏览器端的安全限制  

##推荐网站
1. nodejs.org（官网）  
2. www.npmjs.com（社区）
3. github.com（代码托放平台）  
4. stackoverflow.com（技术问答社区）

##nodeJs版本
1. 偶数位为稳定版本  
    0.6.x  
    0.8.x  
    0.10.x
2. 奇数位为非稳定版本  
    0.7.x  
    0.9.x  
    0.11.x  

##模块与包管理工具
commonjs规范  
requireJs AMD规范  
seaJs   CMD规范  

###模块的分类
1. 核心模块（例如http）
    ```  
   const http = require('http');
   ```
2. 文件模块（本地模块）
    ```  
    var util = require('./util.js')
    ```
3. 第三方模块（通过npm下载安装的）
    ```  
    var promise = require('bluebird'')
    ```  
    
###模块的流程
1. 创建模块  
    ```
    teacher.js
    ```
2. 导出模块
    ```  
    exprots.add = function(){}
    ```
3. 加载模块
    ```  
    var teacher = require('./tescher.js')
    ```
4. 使用模块
    ```  
    tescher.add('Scott')
    ```

##Node.js API
URI：统一资源标识符，是一个标记，一个资源  
URL：统一资源定位符，是一个地址  
url.parse()  
url.format()  
querystring.stringify()  
querystring.parse()  

###HTTP协议以及相关知识

###流程
1. http客户端发起请求，创建端口  
2. http服务器在端口监听客户端请求
3. http服务器向客户端饭后状态和内容

###请求过程

1. Chrome搜索自身的DNS缓存
2. 搜索操作系统自身的DNS缓存（浏览器没有找到缓存或缓存已经失效）  
3. 读取本地的HOST文件（系统DNS缓存没有找到）  
4. 浏览器发起一个DNS的一个系统调用（本地HOST文件没有找到。该系统调用一般由宽带运营商发起）  
    + 宽带运营商服务器查看本身缓存
    + 运营商服务器发起一迭代DNS解析的请求  
    + 运营商服务器把结果返回操作系统内核同时缓存起来  
    + 操作系统内核把运行结果返回浏览器  
    + 最终浏览器拿到了该网站对应的IP地址  
5. 浏览器获得域名对应的IP地址后，发起HTTP“三次握手”  
    + 浏览器的随机端口向服务器发送TCP链接请求  
    + 建立TCP/IP通道  
6. TCP/IP链接建立起来后，浏览器就可以想服务器发送HTTP请求了  
7. 服务器端接受到了这个请求，根据路径参数，经过后端的一些处理之后，把处理后的一个结果的数据返回给浏览器（例如网页的完整代码）  
8. 浏览器拿到了完整的网页代码，在解析和渲染这个页面的时候，里面的JS、CSS、图片静态资源，他们同样也是一个个HTTP请求，都需要经过上面的主要的七个步骤  
9. 浏览器根据拿到的资源对页面进行渲染，最终把一个完整的页面呈现给了用户
    
###HTTP请求
HTTP请求可以分为请求和响应，无论请求还是响应，都有http头和正文信息。  
HTTP头发送的是一些附加的信息：内容类型、服务器发送响应的日期、HTTP状态码  
正文就是用户提交的表单数据  

###请求方法
get --  读取数据  
post  --  提交数据  
put  --  更新  
delete  -- 删除  
head -- 与get一样，请求资源  
...  

###状态码
1xx -- 请求已经接收正在处理  
2xx -- 请求成功  
3xx -- 重定向  
4xx -- 客户端错误，语法错误，或是请求无法实现，文件不存在等  
5xx -- 服务器端错误  

####常见状态  
200     OK成功  
400     客户端请求有语法错误，服务端不能理解  
401     请求没有经过授权  
403     服务端不能提供服务，或是拒绝提供服务  
404     请求资源不存在，或是URL地址错误  
500     服务端发生了不可预期的错误  
503     服务端当前不能提供服务，可能需要过一会儿才能正常访问  

##HTTP概念进阶
1. 什么是回调？  
异步编程最基本的方法，对于node.js来说，需要按顺序执行异步逻辑时候，一般采用后续传递的方式，也就是将后续逻辑封装在回调函数中，做为起始逻辑的参数，逐层去嵌套。通过这种方式，期望程序按照我们的方式，走完整个流程。  

2. 异步和同步
同步：后一个任务等待前一个任务执行完再执行，程序的执行顺序和任务的排列顺序是一定的  
异步：程序执行顺序与任务的排列顺序不是一致的  

3. 单线程与多线程  
单线程：代码是按顺序执行的，每次只能执行一段代码  
多线程：多个任务共享CPU资源

4. I/O  
磁盘的写和读，数据的进和出

5. 阻塞和非阻塞  
阻塞：上一个任务完成过后才能执行下一个任务  
非阻塞：可以同时进行多个任务  
 
6. 事件驱动  
回调并不是马上执行，而是在某个事件触发之后才会执行，称为事件驱动  

7. 事件循环 
拥有大量事件驱动的回调，需要一定的规律去执行，这种机制成为事件循环，事件循环先进先出的队列

>对于单线程的nodejs来说，我们可以通过回调的方式，来进行异步编程，可以达到非阻塞I/O的效果  
nodejs特点：单线程、非阻塞I/O、事件驱动   
nodejs适合高并发、I/O密集操作等

## HTTP源码解读  
作用域：作用域和变量有关系，与调用函数、访问变量的能力有关。  
上下文：上下文和this关键字的指向有关，是当前可执行代码的引用,指向执行上下文时的当前环境。

  

